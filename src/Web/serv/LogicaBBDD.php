<?php
//-----------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------//
//                 									    LOGICABBDD.PHP														   //
//-----------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------//
// Adri치n Tur Rubio
// Proyecto Aplicaciones de Biometria y Medio Ambiente - Parte Web
// Curso 2022-2023
//-----------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------//
// Descripci칩n: El archivo logicaBBDD.php representa la parte de la l칩gica de la BBDD.
//-----------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------//

include './conexionBBDD.php';

//-----------------------------------------------------------------------------------------------------------------------------//
//---------------------------------------------------------GUARDARBBDD()-------------------------------------------------------//
//
// tiempo <long>,sensor <String>, valor --> GuardarBBDD() -->bool
//
//-----------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------//
function guardarBBDD($Tiempo,$Sensor,$valor)
{
    //sentencia sql para insertar las medidas
    $sql = "INSERT INTO `medidas` (`Tiempo`, `Sensor`, `valor`) VALUES ('$Tiempo', '$Sensor', '$valor')";

    //comprobaci칩n de que todo se guarda correctamente
    if (mysqli_query(conectar(), $sql)) {
        return true;
    } else {
        return false;
    }
}

//-----------------------------------------------------------------------------------------------------------------------------//
//----------------------------------------------------------RECIBIRBBDD()------------------------------------------------------//
//
// sensor<String> -->obtenerMedicionesBBDD() --> JSON
//
//-----------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------//
function recibirBBDD($Sensor){

    //sentencia sql para selecionar las medidas del sensor x
    $sql = "SELECT * FROM `medidas` WHERE `Sensor`= '$Sensor'";

    //devolvemos el resultado
    return mysqli_query(Conectar(),$sql);

}
//-----------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------//



