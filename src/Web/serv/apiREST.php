<?php
//-----------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------//
//                 										 APIREST.PHP														   //
//-----------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------//
// Adrián Tur Rubio
// Proyecto Aplicaciones de Biometria y Medio Ambiente - Parte Web
// Curso 2022-2023
//-----------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------//
// Descripción: El archivo apiREST.php representa la parte la API de la aplicacion.
//-----------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------//

include './Logica.php';

$metodo = $_SERVER['REQUEST_METHOD'];//Se guarda el tipo de método

//Se comprueba si el tipo de metodo es POST
if($metodo=='POST'){

//obtenemos las variables del body con la variable por defecto $_POST
    $Tiempo = $_POST["Tiempo"];
    $Sensor = $_POST["Sensor"];
    $valor = $_POST["valor"];

    guardarMedicion($Tiempo,$Sensor,$valor);//llamamos a guardarMedicion() de la lógica

//Si el tipo de metodo es GET
}else{
    $tipo=$_GET['sensor'];//vemos que tipo de medicion quiere el usuario temperatura, gas...
    echo recibirMediciones($tipo);//llamamos a obtenerMediciones() de la lógica
}
//-----------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------//
//-----------------------------------------------------------------------------------------------------------------------------//
